# Constraints Solver

This python script accepts constraints generated by the dynamic LLVM pass and outputs program inputs, which will drive the exploration of a new program pass.

## Prerequisites

To run this, you will need the SMT solver Z3. You can install Z3 using the following:

Clone the Z3 repository:
```
$ cd ~
$ git clone https://github.com/Z3Prover/z3.git
$ cd ~/z3
```

Compile and install Z3
```
$ python scripts/mk_make.py --prefix=$HOME/usr --python --pypkgdir=$HOME/usr/lib/python-2.7/site-packages
$ cd build; make
$ sudo make install
```

Export Z3 into your python path
```
export PYTHONPATH=$HOME/usr/lib/python-2.7/site-packages:$PYTHONPATH
```

## Running

You can run this code using Python3

```
python3 solveConstraints.py
```

The program will ask you how many inputs the test program takes. Enter an integer and hit enter.
```
>>> How many inputs values does this program take:
>>> 1
```

After which the program will generate an input and request a file containing the constraints from the dynamic LLVM pass. An example of the file format is shown below. For more examples of these files, please look inside the `Test_Programs` folder.

```
Constraint Hit: input > 0
Operand (input): -8361
Operand (0): 0
Predicate Evaluation: False
-----------------------
```
